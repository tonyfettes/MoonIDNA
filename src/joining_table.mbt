pub enum JoiningType {
    U // Non_Joining or unknown
    L // Left_Joining
    R // Right_Joining
    D // Dual_Joining
    T // Transparent
    C // Join_Causing
}

///|
pub struct JoiningEntry {
    start : Int
    end : Int
    class : JoiningType
}

///|
pub let joining_table : Array[JoiningEntry] = [
  { start: 0xAD, end: 0xAD, class: JoiningType::T },
  { start: 0x300, end: 0x36F, class: JoiningType::T },
  { start: 0x483, end: 0x487, class: JoiningType::T },
  { start: 0x488, end: 0x489, class: JoiningType::T },
  { start: 0x591, end: 0x5BD, class: JoiningType::T },
  { start: 0x5BF, end: 0x5BF, class: JoiningType::T },
  { start: 0x5C1, end: 0x5C2, class: JoiningType::T },
  { start: 0x5C4, end: 0x5C5, class: JoiningType::T },
  { start: 0x5C7, end: 0x5C7, class: JoiningType::T },
  { start: 0x610, end: 0x61A, class: JoiningType::T },
  { start: 0x61C, end: 0x61C, class: JoiningType::T },
  { start: 0x620, end: 0x620, class: JoiningType::D },
  { start: 0x622, end: 0x625, class: JoiningType::R },
  { start: 0x626, end: 0x626, class: JoiningType::D },
  { start: 0x627, end: 0x627, class: JoiningType::R },
  { start: 0x628, end: 0x628, class: JoiningType::D },
  { start: 0x629, end: 0x629, class: JoiningType::R },
  { start: 0x62A, end: 0x62E, class: JoiningType::D },
  { start: 0x62F, end: 0x632, class: JoiningType::R },
  { start: 0x633, end: 0x63F, class: JoiningType::D },
  { start: 0x640, end: 0x640, class: JoiningType::C },
  { start: 0x641, end: 0x647, class: JoiningType::D },
  { start: 0x648, end: 0x648, class: JoiningType::R },
  { start: 0x649, end: 0x64A, class: JoiningType::D },
  { start: 0x64B, end: 0x65F, class: JoiningType::T },
  { start: 0x66E, end: 0x66F, class: JoiningType::D },
  { start: 0x670, end: 0x670, class: JoiningType::T },
  { start: 0x671, end: 0x673, class: JoiningType::R },
  { start: 0x675, end: 0x677, class: JoiningType::R },
  { start: 0x678, end: 0x687, class: JoiningType::D },
  { start: 0x688, end: 0x699, class: JoiningType::R },
  { start: 0x69A, end: 0x6BF, class: JoiningType::D },
  { start: 0x6C0, end: 0x6C0, class: JoiningType::R },
  { start: 0x6C1, end: 0x6C2, class: JoiningType::D },
  { start: 0x6C3, end: 0x6CB, class: JoiningType::R },
  { start: 0x6CC, end: 0x6CC, class: JoiningType::D },
  { start: 0x6CD, end: 0x6CD, class: JoiningType::R },
  { start: 0x6CE, end: 0x6CE, class: JoiningType::D },
  { start: 0x6CF, end: 0x6CF, class: JoiningType::R },
  { start: 0x6D0, end: 0x6D1, class: JoiningType::D },
  { start: 0x6D2, end: 0x6D3, class: JoiningType::R },
  { start: 0x6D5, end: 0x6D5, class: JoiningType::R },
  { start: 0x6D6, end: 0x6DC, class: JoiningType::T },
  { start: 0x6DF, end: 0x6E4, class: JoiningType::T },
  { start: 0x6E7, end: 0x6E8, class: JoiningType::T },
  { start: 0x6EA, end: 0x6ED, class: JoiningType::T },
  { start: 0x6EE, end: 0x6EF, class: JoiningType::R },
  { start: 0x6FA, end: 0x6FC, class: JoiningType::D },
  { start: 0x6FF, end: 0x6FF, class: JoiningType::D },
  { start: 0x70F, end: 0x70F, class: JoiningType::T },
  { start: 0x710, end: 0x710, class: JoiningType::R },
  { start: 0x711, end: 0x711, class: JoiningType::T },
  { start: 0x712, end: 0x714, class: JoiningType::D },
  { start: 0x715, end: 0x719, class: JoiningType::R },
  { start: 0x71A, end: 0x71D, class: JoiningType::D },
  { start: 0x71E, end: 0x71E, class: JoiningType::R },
  { start: 0x71F, end: 0x727, class: JoiningType::D },
  { start: 0x728, end: 0x728, class: JoiningType::R },
  { start: 0x729, end: 0x729, class: JoiningType::D },
  { start: 0x72A, end: 0x72A, class: JoiningType::R },
  { start: 0x72B, end: 0x72B, class: JoiningType::D },
  { start: 0x72C, end: 0x72C, class: JoiningType::R },
  { start: 0x72D, end: 0x72E, class: JoiningType::D },
  { start: 0x72F, end: 0x72F, class: JoiningType::R },
  { start: 0x730, end: 0x74A, class: JoiningType::T },
  { start: 0x74D, end: 0x74D, class: JoiningType::R },
  { start: 0x74E, end: 0x758, class: JoiningType::D },
  { start: 0x759, end: 0x75B, class: JoiningType::R },
  { start: 0x75C, end: 0x76A, class: JoiningType::D },
  { start: 0x76B, end: 0x76C, class: JoiningType::R },
  { start: 0x76D, end: 0x770, class: JoiningType::D },
  { start: 0x771, end: 0x771, class: JoiningType::R },
  { start: 0x772, end: 0x772, class: JoiningType::D },
  { start: 0x773, end: 0x774, class: JoiningType::R },
  { start: 0x775, end: 0x777, class: JoiningType::D },
  { start: 0x778, end: 0x779, class: JoiningType::R },
  { start: 0x77A, end: 0x77F, class: JoiningType::D },
  { start: 0x7A6, end: 0x7B0, class: JoiningType::T },
  { start: 0x7CA, end: 0x7EA, class: JoiningType::D },
  { start: 0x7EB, end: 0x7F3, class: JoiningType::T },
  { start: 0x7FA, end: 0x7FA, class: JoiningType::C },
  { start: 0x7FD, end: 0x7FD, class: JoiningType::T },
  { start: 0x816, end: 0x819, class: JoiningType::T },
  { start: 0x81B, end: 0x823, class: JoiningType::T },
  { start: 0x825, end: 0x827, class: JoiningType::T },
  { start: 0x829, end: 0x82D, class: JoiningType::T },
  { start: 0x840, end: 0x840, class: JoiningType::R },
  { start: 0x841, end: 0x845, class: JoiningType::D },
  { start: 0x846, end: 0x847, class: JoiningType::R },
  { start: 0x848, end: 0x848, class: JoiningType::D },
  { start: 0x849, end: 0x849, class: JoiningType::R },
  { start: 0x84A, end: 0x853, class: JoiningType::D },
  { start: 0x854, end: 0x854, class: JoiningType::R },
  { start: 0x855, end: 0x855, class: JoiningType::D },
  { start: 0x856, end: 0x858, class: JoiningType::R },
  { start: 0x859, end: 0x85B, class: JoiningType::T },
  { start: 0x860, end: 0x860, class: JoiningType::D },
  { start: 0x862, end: 0x865, class: JoiningType::D },
  { start: 0x867, end: 0x867, class: JoiningType::R },
  { start: 0x868, end: 0x868, class: JoiningType::D },
  { start: 0x869, end: 0x86A, class: JoiningType::R },
  { start: 0x870, end: 0x882, class: JoiningType::R },
  { start: 0x883, end: 0x885, class: JoiningType::C },
  { start: 0x886, end: 0x886, class: JoiningType::D },
  { start: 0x889, end: 0x88D, class: JoiningType::D },
  { start: 0x88E, end: 0x88E, class: JoiningType::R },
  { start: 0x88F, end: 0x88F, class: JoiningType::D },
  { start: 0x897, end: 0x89F, class: JoiningType::T },
  { start: 0x8A0, end: 0x8A9, class: JoiningType::D },
  { start: 0x8AA, end: 0x8AC, class: JoiningType::R },
  { start: 0x8AE, end: 0x8AE, class: JoiningType::R },
  { start: 0x8AF, end: 0x8B0, class: JoiningType::D },
  { start: 0x8B1, end: 0x8B2, class: JoiningType::R },
  { start: 0x8B3, end: 0x8B8, class: JoiningType::D },
  { start: 0x8B9, end: 0x8B9, class: JoiningType::R },
  { start: 0x8BA, end: 0x8C8, class: JoiningType::D },
  { start: 0x8CA, end: 0x8E1, class: JoiningType::T },
  { start: 0x8E3, end: 0x902, class: JoiningType::T },
  { start: 0x93A, end: 0x93A, class: JoiningType::T },
  { start: 0x93C, end: 0x93C, class: JoiningType::T },
  { start: 0x941, end: 0x948, class: JoiningType::T },
  { start: 0x94D, end: 0x94D, class: JoiningType::T },
  { start: 0x951, end: 0x957, class: JoiningType::T },
  { start: 0x962, end: 0x963, class: JoiningType::T },
  { start: 0x981, end: 0x981, class: JoiningType::T },
  { start: 0x9BC, end: 0x9BC, class: JoiningType::T },
  { start: 0x9C1, end: 0x9C4, class: JoiningType::T },
  { start: 0x9CD, end: 0x9CD, class: JoiningType::T },
  { start: 0x9E2, end: 0x9E3, class: JoiningType::T },
  { start: 0x9FE, end: 0x9FE, class: JoiningType::T },
  { start: 0xA01, end: 0xA02, class: JoiningType::T },
  { start: 0xA3C, end: 0xA3C, class: JoiningType::T },
  { start: 0xA41, end: 0xA42, class: JoiningType::T },
  { start: 0xA47, end: 0xA48, class: JoiningType::T },
  { start: 0xA4B, end: 0xA4D, class: JoiningType::T },
  { start: 0xA51, end: 0xA51, class: JoiningType::T },
  { start: 0xA70, end: 0xA71, class: JoiningType::T },
  { start: 0xA75, end: 0xA75, class: JoiningType::T },
  { start: 0xA81, end: 0xA82, class: JoiningType::T },
  { start: 0xABC, end: 0xABC, class: JoiningType::T },
  { start: 0xAC1, end: 0xAC5, class: JoiningType::T },
  { start: 0xAC7, end: 0xAC8, class: JoiningType::T },
  { start: 0xACD, end: 0xACD, class: JoiningType::T },
  { start: 0xAE2, end: 0xAE3, class: JoiningType::T },
  { start: 0xAFA, end: 0xAFF, class: JoiningType::T },
  { start: 0xB01, end: 0xB01, class: JoiningType::T },
  { start: 0xB3C, end: 0xB3C, class: JoiningType::T },
  { start: 0xB3F, end: 0xB3F, class: JoiningType::T },
  { start: 0xB41, end: 0xB44, class: JoiningType::T },
  { start: 0xB4D, end: 0xB4D, class: JoiningType::T },
  { start: 0xB55, end: 0xB56, class: JoiningType::T },
  { start: 0xB62, end: 0xB63, class: JoiningType::T },
  { start: 0xB82, end: 0xB82, class: JoiningType::T },
  { start: 0xBC0, end: 0xBC0, class: JoiningType::T },
  { start: 0xBCD, end: 0xBCD, class: JoiningType::T },
  { start: 0xC00, end: 0xC00, class: JoiningType::T },
  { start: 0xC04, end: 0xC04, class: JoiningType::T },
  { start: 0xC3C, end: 0xC3C, class: JoiningType::T },
  { start: 0xC3E, end: 0xC40, class: JoiningType::T },
  { start: 0xC46, end: 0xC48, class: JoiningType::T },
  { start: 0xC4A, end: 0xC4D, class: JoiningType::T },
  { start: 0xC55, end: 0xC56, class: JoiningType::T },
  { start: 0xC62, end: 0xC63, class: JoiningType::T },
  { start: 0xC81, end: 0xC81, class: JoiningType::T },
  { start: 0xCBC, end: 0xCBC, class: JoiningType::T },
  { start: 0xCBF, end: 0xCBF, class: JoiningType::T },
  { start: 0xCC6, end: 0xCC6, class: JoiningType::T },
  { start: 0xCCC, end: 0xCCD, class: JoiningType::T },
  { start: 0xCE2, end: 0xCE3, class: JoiningType::T },
  { start: 0xD00, end: 0xD01, class: JoiningType::T },
  { start: 0xD3B, end: 0xD3C, class: JoiningType::T },
  { start: 0xD41, end: 0xD44, class: JoiningType::T },
  { start: 0xD4D, end: 0xD4D, class: JoiningType::T },
  { start: 0xD62, end: 0xD63, class: JoiningType::T },
  { start: 0xD81, end: 0xD81, class: JoiningType::T },
  { start: 0xDCA, end: 0xDCA, class: JoiningType::T },
  { start: 0xDD2, end: 0xDD4, class: JoiningType::T },
  { start: 0xDD6, end: 0xDD6, class: JoiningType::T },
  { start: 0xE31, end: 0xE31, class: JoiningType::T },
  { start: 0xE34, end: 0xE3A, class: JoiningType::T },
  { start: 0xE47, end: 0xE4E, class: JoiningType::T },
  { start: 0xEB1, end: 0xEB1, class: JoiningType::T },
  { start: 0xEB4, end: 0xEBC, class: JoiningType::T },
  { start: 0xEC8, end: 0xECE, class: JoiningType::T },
  { start: 0xF18, end: 0xF19, class: JoiningType::T },
  { start: 0xF35, end: 0xF35, class: JoiningType::T },
  { start: 0xF37, end: 0xF37, class: JoiningType::T },
  { start: 0xF39, end: 0xF39, class: JoiningType::T },
  { start: 0xF71, end: 0xF7E, class: JoiningType::T },
  { start: 0xF80, end: 0xF84, class: JoiningType::T },
  { start: 0xF86, end: 0xF87, class: JoiningType::T },
  { start: 0xF8D, end: 0xF97, class: JoiningType::T },
  { start: 0xF99, end: 0xFBC, class: JoiningType::T },
  { start: 0xFC6, end: 0xFC6, class: JoiningType::T },
  { start: 0x102D, end: 0x1030, class: JoiningType::T },
  { start: 0x1032, end: 0x1037, class: JoiningType::T },
  { start: 0x1039, end: 0x103A, class: JoiningType::T },
  { start: 0x103D, end: 0x103E, class: JoiningType::T },
  { start: 0x1058, end: 0x1059, class: JoiningType::T },
  { start: 0x105E, end: 0x1060, class: JoiningType::T },
  { start: 0x1071, end: 0x1074, class: JoiningType::T },
  { start: 0x1082, end: 0x1082, class: JoiningType::T },
  { start: 0x1085, end: 0x1086, class: JoiningType::T },
  { start: 0x108D, end: 0x108D, class: JoiningType::T },
  { start: 0x109D, end: 0x109D, class: JoiningType::T },
  { start: 0x135D, end: 0x135F, class: JoiningType::T },
  { start: 0x1712, end: 0x1714, class: JoiningType::T },
  { start: 0x1732, end: 0x1733, class: JoiningType::T },
  { start: 0x1752, end: 0x1753, class: JoiningType::T },
  { start: 0x1772, end: 0x1773, class: JoiningType::T },
  { start: 0x17B4, end: 0x17B5, class: JoiningType::T },
  { start: 0x17B7, end: 0x17BD, class: JoiningType::T },
  { start: 0x17C6, end: 0x17C6, class: JoiningType::T },
  { start: 0x17C9, end: 0x17D3, class: JoiningType::T },
  { start: 0x17DD, end: 0x17DD, class: JoiningType::T },
  { start: 0x1807, end: 0x1807, class: JoiningType::D },
  { start: 0x180A, end: 0x180A, class: JoiningType::C },
  { start: 0x180B, end: 0x180D, class: JoiningType::T },
  { start: 0x180F, end: 0x180F, class: JoiningType::T },
  { start: 0x1820, end: 0x1842, class: JoiningType::D },
  { start: 0x1843, end: 0x1843, class: JoiningType::D },
  { start: 0x1844, end: 0x1878, class: JoiningType::D },
  { start: 0x1885, end: 0x1886, class: JoiningType::T },
  { start: 0x1887, end: 0x18A8, class: JoiningType::D },
  { start: 0x18A9, end: 0x18A9, class: JoiningType::T },
  { start: 0x18AA, end: 0x18AA, class: JoiningType::D },
  { start: 0x1920, end: 0x1922, class: JoiningType::T },
  { start: 0x1927, end: 0x1928, class: JoiningType::T },
  { start: 0x1932, end: 0x1932, class: JoiningType::T },
  { start: 0x1939, end: 0x193B, class: JoiningType::T },
  { start: 0x1A17, end: 0x1A18, class: JoiningType::T },
  { start: 0x1A1B, end: 0x1A1B, class: JoiningType::T },
  { start: 0x1A56, end: 0x1A56, class: JoiningType::T },
  { start: 0x1A58, end: 0x1A5E, class: JoiningType::T },
  { start: 0x1A60, end: 0x1A60, class: JoiningType::T },
  { start: 0x1A62, end: 0x1A62, class: JoiningType::T },
  { start: 0x1A65, end: 0x1A6C, class: JoiningType::T },
  { start: 0x1A73, end: 0x1A7C, class: JoiningType::T },
  { start: 0x1A7F, end: 0x1A7F, class: JoiningType::T },
  { start: 0x1AB0, end: 0x1ABD, class: JoiningType::T },
  { start: 0x1ABE, end: 0x1ABE, class: JoiningType::T },
  { start: 0x1ABF, end: 0x1ADD, class: JoiningType::T },
  { start: 0x1AE0, end: 0x1AEB, class: JoiningType::T },
  { start: 0x1B00, end: 0x1B03, class: JoiningType::T },
  { start: 0x1B34, end: 0x1B34, class: JoiningType::T },
  { start: 0x1B36, end: 0x1B3A, class: JoiningType::T },
  { start: 0x1B3C, end: 0x1B3C, class: JoiningType::T },
  { start: 0x1B42, end: 0x1B42, class: JoiningType::T },
  { start: 0x1B6B, end: 0x1B73, class: JoiningType::T },
  { start: 0x1B80, end: 0x1B81, class: JoiningType::T },
  { start: 0x1BA2, end: 0x1BA5, class: JoiningType::T },
  { start: 0x1BA8, end: 0x1BA9, class: JoiningType::T },
  { start: 0x1BAB, end: 0x1BAD, class: JoiningType::T },
  { start: 0x1BE6, end: 0x1BE6, class: JoiningType::T },
  { start: 0x1BE8, end: 0x1BE9, class: JoiningType::T },
  { start: 0x1BED, end: 0x1BED, class: JoiningType::T },
  { start: 0x1BEF, end: 0x1BF1, class: JoiningType::T },
  { start: 0x1C2C, end: 0x1C33, class: JoiningType::T },
  { start: 0x1C36, end: 0x1C37, class: JoiningType::T },
  { start: 0x1CD0, end: 0x1CD2, class: JoiningType::T },
  { start: 0x1CD4, end: 0x1CE0, class: JoiningType::T },
  { start: 0x1CE2, end: 0x1CE8, class: JoiningType::T },
  { start: 0x1CED, end: 0x1CED, class: JoiningType::T },
  { start: 0x1CF4, end: 0x1CF4, class: JoiningType::T },
  { start: 0x1CF8, end: 0x1CF9, class: JoiningType::T },
  { start: 0x1DC0, end: 0x1DFF, class: JoiningType::T },
  { start: 0x200B, end: 0x200B, class: JoiningType::T },
  { start: 0x200D, end: 0x200D, class: JoiningType::C },
  { start: 0x200E, end: 0x200F, class: JoiningType::T },
  { start: 0x202A, end: 0x202E, class: JoiningType::T },
  { start: 0x2060, end: 0x2064, class: JoiningType::T },
  { start: 0x206A, end: 0x206F, class: JoiningType::T },
  { start: 0x20D0, end: 0x20DC, class: JoiningType::T },
  { start: 0x20DD, end: 0x20E0, class: JoiningType::T },
  { start: 0x20E1, end: 0x20E1, class: JoiningType::T },
  { start: 0x20E2, end: 0x20E4, class: JoiningType::T },
  { start: 0x20E5, end: 0x20F0, class: JoiningType::T },
  { start: 0x2CEF, end: 0x2CF1, class: JoiningType::T },
  { start: 0x2D7F, end: 0x2D7F, class: JoiningType::T },
  { start: 0x2DE0, end: 0x2DFF, class: JoiningType::T },
  { start: 0x302A, end: 0x302D, class: JoiningType::T },
  { start: 0x3099, end: 0x309A, class: JoiningType::T },
  { start: 0xA66F, end: 0xA66F, class: JoiningType::T },
  { start: 0xA670, end: 0xA672, class: JoiningType::T },
  { start: 0xA674, end: 0xA67D, class: JoiningType::T },
  { start: 0xA69E, end: 0xA69F, class: JoiningType::T },
  { start: 0xA6F0, end: 0xA6F1, class: JoiningType::T },
  { start: 0xA802, end: 0xA802, class: JoiningType::T },
  { start: 0xA806, end: 0xA806, class: JoiningType::T },
  { start: 0xA80B, end: 0xA80B, class: JoiningType::T },
  { start: 0xA825, end: 0xA826, class: JoiningType::T },
  { start: 0xA82C, end: 0xA82C, class: JoiningType::T },
  { start: 0xA840, end: 0xA871, class: JoiningType::D },
  { start: 0xA872, end: 0xA872, class: JoiningType::L },
  { start: 0xA8C4, end: 0xA8C5, class: JoiningType::T },
  { start: 0xA8E0, end: 0xA8F1, class: JoiningType::T },
  { start: 0xA8FF, end: 0xA8FF, class: JoiningType::T },
  { start: 0xA926, end: 0xA92D, class: JoiningType::T },
  { start: 0xA947, end: 0xA951, class: JoiningType::T },
  { start: 0xA980, end: 0xA982, class: JoiningType::T },
  { start: 0xA9B3, end: 0xA9B3, class: JoiningType::T },
  { start: 0xA9B6, end: 0xA9B9, class: JoiningType::T },
  { start: 0xA9BC, end: 0xA9BD, class: JoiningType::T },
  { start: 0xA9E5, end: 0xA9E5, class: JoiningType::T },
  { start: 0xAA29, end: 0xAA2E, class: JoiningType::T },
  { start: 0xAA31, end: 0xAA32, class: JoiningType::T },
  { start: 0xAA35, end: 0xAA36, class: JoiningType::T },
  { start: 0xAA43, end: 0xAA43, class: JoiningType::T },
  { start: 0xAA4C, end: 0xAA4C, class: JoiningType::T },
  { start: 0xAA7C, end: 0xAA7C, class: JoiningType::T },
  { start: 0xAAB0, end: 0xAAB0, class: JoiningType::T },
  { start: 0xAAB2, end: 0xAAB4, class: JoiningType::T },
  { start: 0xAAB7, end: 0xAAB8, class: JoiningType::T },
  { start: 0xAABE, end: 0xAABF, class: JoiningType::T },
  { start: 0xAAC1, end: 0xAAC1, class: JoiningType::T },
  { start: 0xAAEC, end: 0xAAED, class: JoiningType::T },
  { start: 0xAAF6, end: 0xAAF6, class: JoiningType::T },
  { start: 0xABE5, end: 0xABE5, class: JoiningType::T },
  { start: 0xABE8, end: 0xABE8, class: JoiningType::T },
  { start: 0xABED, end: 0xABED, class: JoiningType::T },
  { start: 0xFB1E, end: 0xFB1E, class: JoiningType::T },
  { start: 0xFE00, end: 0xFE0F, class: JoiningType::T },
  { start: 0xFE20, end: 0xFE2F, class: JoiningType::T },
  { start: 0xFEFF, end: 0xFEFF, class: JoiningType::T },
  { start: 0xFFF9, end: 0xFFFB, class: JoiningType::T },
  { start: 0x101FD, end: 0x101FD, class: JoiningType::T },
  { start: 0x102E0, end: 0x102E0, class: JoiningType::T },
  { start: 0x10376, end: 0x1037A, class: JoiningType::T },
  { start: 0x10A01, end: 0x10A03, class: JoiningType::T },
  { start: 0x10A05, end: 0x10A06, class: JoiningType::T },
  { start: 0x10A0C, end: 0x10A0F, class: JoiningType::T },
  { start: 0x10A38, end: 0x10A3A, class: JoiningType::T },
  { start: 0x10A3F, end: 0x10A3F, class: JoiningType::T },
  { start: 0x10AC0, end: 0x10AC4, class: JoiningType::D },
  { start: 0x10AC5, end: 0x10AC5, class: JoiningType::R },
  { start: 0x10AC7, end: 0x10AC7, class: JoiningType::R },
  { start: 0x10AC9, end: 0x10ACA, class: JoiningType::R },
  { start: 0x10ACD, end: 0x10ACD, class: JoiningType::L },
  { start: 0x10ACE, end: 0x10AD2, class: JoiningType::R },
  { start: 0x10AD3, end: 0x10AD6, class: JoiningType::D },
  { start: 0x10AD7, end: 0x10AD7, class: JoiningType::L },
  { start: 0x10AD8, end: 0x10ADC, class: JoiningType::D },
  { start: 0x10ADD, end: 0x10ADD, class: JoiningType::R },
  { start: 0x10ADE, end: 0x10AE0, class: JoiningType::D },
  { start: 0x10AE1, end: 0x10AE1, class: JoiningType::R },
  { start: 0x10AE4, end: 0x10AE4, class: JoiningType::R },
  { start: 0x10AE5, end: 0x10AE6, class: JoiningType::T },
  { start: 0x10AEB, end: 0x10AEE, class: JoiningType::D },
  { start: 0x10AEF, end: 0x10AEF, class: JoiningType::R },
  { start: 0x10B80, end: 0x10B80, class: JoiningType::D },
  { start: 0x10B81, end: 0x10B81, class: JoiningType::R },
  { start: 0x10B82, end: 0x10B82, class: JoiningType::D },
  { start: 0x10B83, end: 0x10B85, class: JoiningType::R },
  { start: 0x10B86, end: 0x10B88, class: JoiningType::D },
  { start: 0x10B89, end: 0x10B89, class: JoiningType::R },
  { start: 0x10B8A, end: 0x10B8B, class: JoiningType::D },
  { start: 0x10B8C, end: 0x10B8C, class: JoiningType::R },
  { start: 0x10B8D, end: 0x10B8D, class: JoiningType::D },
  { start: 0x10B8E, end: 0x10B8F, class: JoiningType::R },
  { start: 0x10B90, end: 0x10B90, class: JoiningType::D },
  { start: 0x10B91, end: 0x10B91, class: JoiningType::R },
  { start: 0x10BA9, end: 0x10BAC, class: JoiningType::R },
  { start: 0x10BAD, end: 0x10BAE, class: JoiningType::D },
  { start: 0x10D00, end: 0x10D00, class: JoiningType::L },
  { start: 0x10D01, end: 0x10D21, class: JoiningType::D },
  { start: 0x10D22, end: 0x10D22, class: JoiningType::R },
  { start: 0x10D23, end: 0x10D23, class: JoiningType::D },
  { start: 0x10D24, end: 0x10D27, class: JoiningType::T },
  { start: 0x10D69, end: 0x10D6D, class: JoiningType::T },
  { start: 0x10EAB, end: 0x10EAC, class: JoiningType::T },
  { start: 0x10EC2, end: 0x10EC2, class: JoiningType::R },
  { start: 0x10EC3, end: 0x10EC4, class: JoiningType::D },
  { start: 0x10EC6, end: 0x10EC7, class: JoiningType::D },
  { start: 0x10EFA, end: 0x10EFF, class: JoiningType::T },
  { start: 0x10F30, end: 0x10F32, class: JoiningType::D },
  { start: 0x10F33, end: 0x10F33, class: JoiningType::R },
  { start: 0x10F34, end: 0x10F44, class: JoiningType::D },
  { start: 0x10F46, end: 0x10F50, class: JoiningType::T },
  { start: 0x10F51, end: 0x10F53, class: JoiningType::D },
  { start: 0x10F54, end: 0x10F54, class: JoiningType::R },
  { start: 0x10F70, end: 0x10F73, class: JoiningType::D },
  { start: 0x10F74, end: 0x10F75, class: JoiningType::R },
  { start: 0x10F76, end: 0x10F81, class: JoiningType::D },
  { start: 0x10F82, end: 0x10F85, class: JoiningType::T },
  { start: 0x10FB0, end: 0x10FB0, class: JoiningType::D },
  { start: 0x10FB2, end: 0x10FB3, class: JoiningType::D },
  { start: 0x10FB4, end: 0x10FB6, class: JoiningType::R },
  { start: 0x10FB8, end: 0x10FB8, class: JoiningType::D },
  { start: 0x10FB9, end: 0x10FBA, class: JoiningType::R },
  { start: 0x10FBB, end: 0x10FBC, class: JoiningType::D },
  { start: 0x10FBD, end: 0x10FBD, class: JoiningType::R },
  { start: 0x10FBE, end: 0x10FBF, class: JoiningType::D },
  { start: 0x10FC1, end: 0x10FC1, class: JoiningType::D },
  { start: 0x10FC2, end: 0x10FC3, class: JoiningType::R },
  { start: 0x10FC4, end: 0x10FC4, class: JoiningType::D },
  { start: 0x10FC9, end: 0x10FC9, class: JoiningType::R },
  { start: 0x10FCA, end: 0x10FCA, class: JoiningType::D },
  { start: 0x10FCB, end: 0x10FCB, class: JoiningType::L },
  { start: 0x11001, end: 0x11001, class: JoiningType::T },
  { start: 0x11038, end: 0x11046, class: JoiningType::T },
  { start: 0x11070, end: 0x11070, class: JoiningType::T },
  { start: 0x11073, end: 0x11074, class: JoiningType::T },
  { start: 0x1107F, end: 0x11081, class: JoiningType::T },
  { start: 0x110B3, end: 0x110B6, class: JoiningType::T },
  { start: 0x110B9, end: 0x110BA, class: JoiningType::T },
  { start: 0x110C2, end: 0x110C2, class: JoiningType::T },
  { start: 0x11100, end: 0x11102, class: JoiningType::T },
  { start: 0x11127, end: 0x1112B, class: JoiningType::T },
  { start: 0x1112D, end: 0x11134, class: JoiningType::T },
  { start: 0x11173, end: 0x11173, class: JoiningType::T },
  { start: 0x11180, end: 0x11181, class: JoiningType::T },
  { start: 0x111B6, end: 0x111BE, class: JoiningType::T },
  { start: 0x111C9, end: 0x111CC, class: JoiningType::T },
  { start: 0x111CF, end: 0x111CF, class: JoiningType::T },
  { start: 0x1122F, end: 0x11231, class: JoiningType::T },
  { start: 0x11234, end: 0x11234, class: JoiningType::T },
  { start: 0x11236, end: 0x11237, class: JoiningType::T },
  { start: 0x1123E, end: 0x1123E, class: JoiningType::T },
  { start: 0x11241, end: 0x11241, class: JoiningType::T },
  { start: 0x112DF, end: 0x112DF, class: JoiningType::T },
  { start: 0x112E3, end: 0x112EA, class: JoiningType::T },
  { start: 0x11300, end: 0x11301, class: JoiningType::T },
  { start: 0x1133B, end: 0x1133C, class: JoiningType::T },
  { start: 0x11340, end: 0x11340, class: JoiningType::T },
  { start: 0x11366, end: 0x1136C, class: JoiningType::T },
  { start: 0x11370, end: 0x11374, class: JoiningType::T },
  { start: 0x113BB, end: 0x113C0, class: JoiningType::T },
  { start: 0x113CE, end: 0x113CE, class: JoiningType::T },
  { start: 0x113D0, end: 0x113D0, class: JoiningType::T },
  { start: 0x113D2, end: 0x113D2, class: JoiningType::T },
  { start: 0x113E1, end: 0x113E2, class: JoiningType::T },
  { start: 0x11438, end: 0x1143F, class: JoiningType::T },
  { start: 0x11442, end: 0x11444, class: JoiningType::T },
  { start: 0x11446, end: 0x11446, class: JoiningType::T },
  { start: 0x1145E, end: 0x1145E, class: JoiningType::T },
  { start: 0x114B3, end: 0x114B8, class: JoiningType::T },
  { start: 0x114BA, end: 0x114BA, class: JoiningType::T },
  { start: 0x114BF, end: 0x114C0, class: JoiningType::T },
  { start: 0x114C2, end: 0x114C3, class: JoiningType::T },
  { start: 0x115B2, end: 0x115B5, class: JoiningType::T },
  { start: 0x115BC, end: 0x115BD, class: JoiningType::T },
  { start: 0x115BF, end: 0x115C0, class: JoiningType::T },
  { start: 0x115DC, end: 0x115DD, class: JoiningType::T },
  { start: 0x11633, end: 0x1163A, class: JoiningType::T },
  { start: 0x1163D, end: 0x1163D, class: JoiningType::T },
  { start: 0x1163F, end: 0x11640, class: JoiningType::T },
  { start: 0x116AB, end: 0x116AB, class: JoiningType::T },
  { start: 0x116AD, end: 0x116AD, class: JoiningType::T },
  { start: 0x116B0, end: 0x116B5, class: JoiningType::T },
  { start: 0x116B7, end: 0x116B7, class: JoiningType::T },
  { start: 0x1171D, end: 0x1171D, class: JoiningType::T },
  { start: 0x1171F, end: 0x1171F, class: JoiningType::T },
  { start: 0x11722, end: 0x11725, class: JoiningType::T },
  { start: 0x11727, end: 0x1172B, class: JoiningType::T },
  { start: 0x1182F, end: 0x11837, class: JoiningType::T },
  { start: 0x11839, end: 0x1183A, class: JoiningType::T },
  { start: 0x1193B, end: 0x1193C, class: JoiningType::T },
  { start: 0x1193E, end: 0x1193E, class: JoiningType::T },
  { start: 0x11943, end: 0x11943, class: JoiningType::T },
  { start: 0x119D4, end: 0x119D7, class: JoiningType::T },
  { start: 0x119DA, end: 0x119DB, class: JoiningType::T },
  { start: 0x119E0, end: 0x119E0, class: JoiningType::T },
  { start: 0x11A01, end: 0x11A0A, class: JoiningType::T },
  { start: 0x11A33, end: 0x11A38, class: JoiningType::T },
  { start: 0x11A3B, end: 0x11A3E, class: JoiningType::T },
  { start: 0x11A47, end: 0x11A47, class: JoiningType::T },
  { start: 0x11A51, end: 0x11A56, class: JoiningType::T },
  { start: 0x11A59, end: 0x11A5B, class: JoiningType::T },
  { start: 0x11A8A, end: 0x11A96, class: JoiningType::T },
  { start: 0x11A98, end: 0x11A99, class: JoiningType::T },
  { start: 0x11B60, end: 0x11B60, class: JoiningType::T },
  { start: 0x11B62, end: 0x11B64, class: JoiningType::T },
  { start: 0x11B66, end: 0x11B66, class: JoiningType::T },
  { start: 0x11C30, end: 0x11C36, class: JoiningType::T },
  { start: 0x11C38, end: 0x11C3D, class: JoiningType::T },
  { start: 0x11C3F, end: 0x11C3F, class: JoiningType::T },
  { start: 0x11C92, end: 0x11CA7, class: JoiningType::T },
  { start: 0x11CAA, end: 0x11CB0, class: JoiningType::T },
  { start: 0x11CB2, end: 0x11CB3, class: JoiningType::T },
  { start: 0x11CB5, end: 0x11CB6, class: JoiningType::T },
  { start: 0x11D31, end: 0x11D36, class: JoiningType::T },
  { start: 0x11D3A, end: 0x11D3A, class: JoiningType::T },
  { start: 0x11D3C, end: 0x11D3D, class: JoiningType::T },
  { start: 0x11D3F, end: 0x11D45, class: JoiningType::T },
  { start: 0x11D47, end: 0x11D47, class: JoiningType::T },
  { start: 0x11D90, end: 0x11D91, class: JoiningType::T },
  { start: 0x11D95, end: 0x11D95, class: JoiningType::T },
  { start: 0x11D97, end: 0x11D97, class: JoiningType::T },
  { start: 0x11EF3, end: 0x11EF4, class: JoiningType::T },
  { start: 0x11F00, end: 0x11F01, class: JoiningType::T },
  { start: 0x11F36, end: 0x11F3A, class: JoiningType::T },
  { start: 0x11F40, end: 0x11F40, class: JoiningType::T },
  { start: 0x11F42, end: 0x11F42, class: JoiningType::T },
  { start: 0x11F5A, end: 0x11F5A, class: JoiningType::T },
  { start: 0x13430, end: 0x1343F, class: JoiningType::T },
  { start: 0x13440, end: 0x13440, class: JoiningType::T },
  { start: 0x13447, end: 0x13455, class: JoiningType::T },
  { start: 0x1611E, end: 0x16129, class: JoiningType::T },
  { start: 0x1612D, end: 0x1612F, class: JoiningType::T },
  { start: 0x16AF0, end: 0x16AF4, class: JoiningType::T },
  { start: 0x16B30, end: 0x16B36, class: JoiningType::T },
  { start: 0x16F4F, end: 0x16F4F, class: JoiningType::T },
  { start: 0x16F8F, end: 0x16F92, class: JoiningType::T },
  { start: 0x16FE4, end: 0x16FE4, class: JoiningType::T },
  { start: 0x1BC9D, end: 0x1BC9E, class: JoiningType::T },
  { start: 0x1BCA0, end: 0x1BCA3, class: JoiningType::T },
  { start: 0x1CF00, end: 0x1CF2D, class: JoiningType::T },
  { start: 0x1CF30, end: 0x1CF46, class: JoiningType::T },
  { start: 0x1D167, end: 0x1D169, class: JoiningType::T },
  { start: 0x1D173, end: 0x1D17A, class: JoiningType::T },
  { start: 0x1D17B, end: 0x1D182, class: JoiningType::T },
  { start: 0x1D185, end: 0x1D18B, class: JoiningType::T },
  { start: 0x1D1AA, end: 0x1D1AD, class: JoiningType::T },
  { start: 0x1D242, end: 0x1D244, class: JoiningType::T },
  { start: 0x1DA00, end: 0x1DA36, class: JoiningType::T },
  { start: 0x1DA3B, end: 0x1DA6C, class: JoiningType::T },
  { start: 0x1DA75, end: 0x1DA75, class: JoiningType::T },
  { start: 0x1DA84, end: 0x1DA84, class: JoiningType::T },
  { start: 0x1DA9B, end: 0x1DA9F, class: JoiningType::T },
  { start: 0x1DAA1, end: 0x1DAAF, class: JoiningType::T },
  { start: 0x1E000, end: 0x1E006, class: JoiningType::T },
  { start: 0x1E008, end: 0x1E018, class: JoiningType::T },
  { start: 0x1E01B, end: 0x1E021, class: JoiningType::T },
  { start: 0x1E023, end: 0x1E024, class: JoiningType::T },
  { start: 0x1E026, end: 0x1E02A, class: JoiningType::T },
  { start: 0x1E08F, end: 0x1E08F, class: JoiningType::T },
  { start: 0x1E130, end: 0x1E136, class: JoiningType::T },
  { start: 0x1E2AE, end: 0x1E2AE, class: JoiningType::T },
  { start: 0x1E2EC, end: 0x1E2EF, class: JoiningType::T },
  { start: 0x1E4EC, end: 0x1E4EF, class: JoiningType::T },
  { start: 0x1E5EE, end: 0x1E5EF, class: JoiningType::T },
  { start: 0x1E6E3, end: 0x1E6E3, class: JoiningType::T },
  { start: 0x1E6E6, end: 0x1E6E6, class: JoiningType::T },
  { start: 0x1E6EE, end: 0x1E6EF, class: JoiningType::T },
  { start: 0x1E6F5, end: 0x1E6F5, class: JoiningType::T },
  { start: 0x1E8D0, end: 0x1E8D6, class: JoiningType::T },
  { start: 0x1E900, end: 0x1E943, class: JoiningType::D },
  { start: 0x1E944, end: 0x1E94A, class: JoiningType::T },
  { start: 0x1E94B, end: 0x1E94B, class: JoiningType::T },
  { start: 0xE0001, end: 0xE0001, class: JoiningType::T },
  { start: 0xE0020, end: 0xE007F, class: JoiningType::T },
  { start: 0xE0100, end: 0xE01EF, class: JoiningType::T },
]

///|
pub let virama_table : Array[Int] = [
  0x94D,
  0x9CD,
  0xA4D,
  0xACD,
  0xB4D,
  0xBCD,
  0xC4D,
  0xCCD,
  0xD3B,
  0xD3C,
  0xD4D,
  0xDCA,
  0xE3A,
  0xEBA,
  0xF84,
  0x1039,
  0x103A,
  0x1714,
  0x1715,
  0x1734,
  0x17D2,
  0x1A60,
  0x1B44,
  0x1BAA,
  0x1BAB,
  0x1BF2,
  0x1BF3,
  0x2D7F,
  0xA806,
  0xA82C,
  0xA8C4,
  0xA953,
  0xA9C0,
  0xAAF6,
  0xABED,
  0x10A3F,
  0x11046,
  0x11070,
  0x1107F,
  0x110B9,
  0x11133,
  0x11134,
  0x111C0,
  0x11235,
  0x112EA,
  0x1134D,
  0x113CE,
  0x113CF,
  0x113D0,
  0x11442,
  0x114C2,
  0x115BF,
  0x1163F,
  0x116B6,
  0x1172B,
  0x11839,
  0x1193D,
  0x1193E,
  0x119E0,
  0x11A34,
  0x11A47,
  0x11A99,
  0x11C3F,
  0x11D44,
  0x11D45,
  0x11D97,
  0x11F41,
  0x11F42,
  0x1612F,
]

///|
pub fn joining_type_of(cp : Int) -> JoiningType {
  let mut lo = 0
  let mut hi = joining_table.length()
  while lo < hi {
    let mid = (lo + hi) / 2
    let e = joining_table[mid]
    if cp < e.start {
      hi = mid
    } else if cp > e.end {
      lo = mid + 1
    } else {
      return e.class
    }
  }
  JoiningType::U
}

///|
pub fn is_virama(cp : Int) -> Bool {
  let mut lo = 0
  let mut hi = virama_table.length()
  while lo < hi {
    let mid = (lo + hi) / 2
    let v = virama_table[mid]
    if cp < v {
      hi = mid
    } else if cp > v {
      lo = mid + 1
    } else {
      return true
    }
  }
  false
}
